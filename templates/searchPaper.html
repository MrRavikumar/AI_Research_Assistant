<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v5.8.0, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.8.0, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/logo.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>SearchPaper</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/bootstrap.min.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/bootstrap-grid.min.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/bootstrap-reboot.min.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/dropdownstyle.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/sociconstyles.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/themestyle.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/mbr-additional.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/searchpaper.css') }}" />
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./css/searchpaper.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">

  
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu1 cid-txeIHjqhSj" once="menu" id="menu1-7">
    

    <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
        <div class="container">
            <div class="navbar-brand">
                
                <span class="navbar-caption-wrap"><a class="navbar-caption text-black display-7" href="/">AI Research Assistant</a></span>
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <!-- <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-dropdown nav-right" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="page2.html">Login</a>
                    </li></ul>
                
                
            </div> -->
        </div>





    </nav>

<script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>  
<script src="assets/smoothscroll/smooth-scroll.js"></script>  
<script src="assets/ytplayer/index.js"></script>  
<script src="assets/dropdown/js/navbar-dropdown.js"></script>  
<script src="assets/theme/js/script.js"></script>  

  
<div class="searchField">

    <div class="Heading_label">

        <h2>Ask any Research Topic.</h2>

    </div>

    <div class="desclabel">

        AI Research Assistant Search all Research Paper on your query!

    </div>

    <div class="InputBox">

        <form class="flex w-full" action> 
            <div id="downshift-8-menu" role="listbox" aria-labelledby="downshift-8-label"></div>
            <div class="chakra-input_group emotion-css-cache-4382v8" role="combobox" aria-haspopup="dialog" aria-owns="downshift-0-menu" aria-expanded="false" id="popover-trigger-7" aria-controls="popover-content-7"> 
                
            <input class="input_box chakra-input text-sm p1-14 bg-white h-14 text-base !shadow-[0_1px 1px_rgba(0,0,0,0.04),e_2px_10px_rgba(0,0,0,0.04)] pr-24 emotion-css-cache-wz11y1" placeholder aria-autocomplete="list" aria-controls="downshift-8-menu" aria-labelledby="downshift-8-label" autocomplete="off" id="paperTitle">
            </div>
            </form>

    </div>

    <div class="uploadlabel">

        <button class="searchbutton" onclick="searchPaper()">Search</button>

    </div>

</div>

<div class ="tablebody">
    <table id = "tbh">
        <thead id = "paperhead">

      </thead>
      <tbody id="tabbody">

      </tbody>
      </table>
</div>
<script>
        let papers = []

        function searchPaper(){
        let paperTitle = String(document.getElementById("paperTitle").value)
        console.log(typeof(paperTitle))
        let obj =  {}
        obj["title"] = paperTitle
        fetch("http://127.0.0.1:8000/searchPapers", {
        method:"POST",
        headers: {
            "content-Type" : "application/json"
        },
        body: JSON.stringify(obj)
        })
        .then((res)=>{
        return res.json()
        })
        .then((data)=>{
        // console.log(data)
        papers = data
        document.getElementById("tabbody").innerHTML = "";
        console.log(papers)
        


        th1 = document.createElement("th")
        th1.append("Sr. No.")
        th2 = document.createElement("th")
        th2.append("Title.")
        th3 = document.createElement("th")
        th3.append("Abstract Summary")
        th4 = document.createElement("th")
        th4.append("Publication")
        th5 = document.createElement("th")
        th5.append("Link")

        tr1 = document.createElement("tr")
        tr1.appendChild(th1);
        tr1.appendChild(th2);
        tr1.appendChild(th3);
        tr1.appendChild(th4);
        tr1.appendChild(th5);

        thead = document.getElementById("paperhead")
        thead.appendChild(tr1)

        papers.forEach((element,index)=>{
        idtd = document.createElement("td");
        idtd.append(index + 1);

        titletd = document.createElement("td");
        titletd.append(element.title);

        snippettd = document.createElement("td");
        snippettd.append(element.snippet);

        publicationtd = document.createElement("td");
        publicationtd.append(element.publication_info.summary);

        linktd = document.createElement("td");
        a = document.createElement("a")
        a.href = element.link
        a.append(element.link)
        linktd.append(a);

        // updateicon = document.createElement("i");
        // updateicon.className = "fa-solid fa-pen-clip update";

        // deleteicon = document.createElement("i");
        // deleteicon.className = "fa-solid fa-trash-can delete";
        // deleteicon.addEventListener("click",function(){
        //     console.log("Inside event");
        //     deleteProduct(element.id);
        // })

        // actiontd = document.createElement("td");
        // actiontd.appendChild(updateicon);
        // actiontd.appendChild(deleteicon);


        tr = document.createElement("tr");
        tr.appendChild(idtd);
        tr.appendChild(titletd);
        tr.appendChild(snippettd);
        tr.appendChild(publicationtd);
        tr.appendChild(linktd);

        

        tbody = document.getElementById("tabbody");
        tbody.appendChild(tr)

        t = document.getElementById("tbh");
        t.appendChild(thead)
        t.appendChild(tbody)

        })
        })
        .catch((e)=>{
        console.log(e)
        })



        }
</script>  
</body>
</html>